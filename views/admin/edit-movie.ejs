<h1 class="text-3xl font-bold mb-6 text-gray-800 dark:text-white">Add Movie</h1>

<form id="add-movie-form" class="max-w-lg mx-auto" method="POST" enctype="multipart/form-data">
  <div class="grid md:grid-cols-2 md:gap-6">
    <div class="mb-5">
      <label for="movie-title" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Movie Title</label>
      <input type="text" id="movie-title" name="movie-title"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
        placeholder="Enter movie title" required value="">
    </div>
    <div class="mb-5">
      <label for="release-date" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Release
        Date</label>
      <input type="date" id="release-date" name="release-date"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
        required>
    </div>
  </div>
  <div class="mb-5">
    <label for="category" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Category</label>
    <select id="category" name="category"
      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
      <option selected>Choose a category</option>
      <% categories.forEach(function (category){ %>
        <option value="<%= category.id %>">
          <%= category.name %>
        </option>
        <% }) %>
    </select>
  </div>
  <div class="mb-5">
    <label for="movie-description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Movie
      Description</label>
    <div id="movie-description"
      class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
    </div>
  </div>
  <div class="mb-5">
    <label for="rating" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Rating</label>
    <input type="number" id="rating" name="rating" min="0" max="10" step="0.1"
      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
      placeholder="Enter rating (0-10)" required>
  </div>
  <div class="mb-5">
    <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" for="movie-poster">Upload Movie
      Poster</label>
    <input
      class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"
      id="movie-poster" type="file" accept="image/*" name="movie-poster">
  </div>
  <button type="submit"
    class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Add
    Movie</button>
</form>
<script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>
<script>
  const quill = new Quill('#movie-description', {
    theme: 'snow',
    modules: {
      toolbar: [
        [{ 'header': '1' }, { 'header': '2' }, { 'font': [] }],
        [{ 'list': 'ordered' }, { 'list': 'bullet' }],
        ['bold', 'italic', 'underline'],
        [{ 'color': [] }, { 'background': [] }],
        [{ 'align': [] }],
        ['link', 'image', 'video'],
        ['clean']
      ]
    }
  });

  const form = document.querySelector('form');
  form.addEventListener('submit', function (event) {
    const descriptionInput = document.createElement('input');
    descriptionInput.type = 'hidden';
    descriptionInput.name = 'movie-description';
    descriptionInput.value = quill.root.innerHTML;
    form.appendChild(descriptionInput);
  });


</script>